"use strict";(self["webpackChunkvue_proj"]=self["webpackChunkvue_proj"]||[]).push([[565],{565:function(t,e,i){i.r(e),i.d(e,{default:function(){return T}});var s=i(641);const o={class:"addtask"};function r(t,e,i,r,n,a){const l=(0,s.g2)("AddTask");return(0,s.uX)(),(0,s.CE)("div",o,[(0,s.bF)(l)])}var n=i(751),a=i(33);const l={class:"task-form-container"},u={style:{display:"flex"}},d={key:0,class:"error"},p={style:{display:"flex"}},c={key:0,class:"error"},m={class:"input-group",style:{display:"flex","align-items":"center"}},h={class:"data-cont",style:{display:"flex"}},k={style:{display:"flex","align-items":"center"}};function y(t,e,i,o,r,y){return(0,s.uX)(),(0,s.CE)("div",l,[e[11]||(e[11]=(0,s.Lk)("h2",null,"Добавить задачу",-1)),(0,s.Lk)("form",{onSubmit:e[5]||(e[5]=(0,n.D$)(((...t)=>y.submitTask&&y.submitTask(...t)),["prevent"]))},[(0,s.Lk)("div",u,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>r.title=t),required:"",placeholder:"Заголовок задачи",style:{width:"100%"}},null,512),[[n.Jo,r.title]]),r.errors.title?((0,s.uX)(),(0,s.CE)("span",d,(0,a.v_)(r.errors.title),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",p,[(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>r.description=t),required:"",placeholder:"Описание задачи",style:{width:"100%"}},null,512),[[n.Jo,r.description]]),r.errors.description?((0,s.uX)(),(0,s.CE)("span",c,(0,a.v_)(r.errors.description),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",m,[e[7]||(e[7]=(0,s.Lk)("p",{style:{"padding-bottom":"1rem","padding-right":"1rem"}},"Срок выполнения:",-1)),(0,s.Lk)("div",h,[(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=t=>r.amount=t),min:"1",max:"30",required:"",placeholder:"Число (1-30)"},null,512),[[n.Jo,r.amount,void 0,{number:!0}]]),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>r.unit=t),required:"",class:"form-select"},e[6]||(e[6]=[(0,s.Fv)('<option value="minutes" data-v-38595c70>Минуты</option><option value="hours" data-v-38595c70>Часы</option><option value="days" data-v-38595c70>Дни</option><option value="months" data-v-38595c70>Месяцы</option><option value="years" data-v-38595c70>Годы</option>',5)]),512),[[n.u1,r.unit]])])]),(0,s.Lk)("label",k,[e[9]||(e[9]=(0,s.Lk)("p",{style:{"padding-bottom":"1rem","padding-right":"1rem"}},"Приоритет:",-1)),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>r.priority=t),required:"",style:{width:"100%"}},e[8]||(e[8]=[(0,s.Lk)("option",{value:"low",style:{color:"green"}},"Низкий",-1),(0,s.Lk)("option",{value:"medium",style:{color:"yellow"}},"Средний",-1),(0,s.Lk)("option",{value:"high",style:{color:"red"}},"Высокий",-1)]),512),[[n.u1,r.priority]])]),e[10]||(e[10]=(0,s.Lk)("button",{type:"submit",class:"submit-button"},"Добавить задачу",-1))],32)])}var v=i(278),b={data(){return{title:"",description:"",amount:1,unit:"days",priority:"medium",errors:{}}},methods:{...(0,v.i0)("tasks",["addTask"]),submitTask(){if(this.errors={},this.title.length<5&&(this.errors.title="Минимальная длина заголовка 5 символов."),this.description.length<5&&(this.errors.description="Минимальная длина описания 5 символов."),Object.keys(this.errors).length>0)return;const t=new Date,e=this.calculateDuration(t,this.amount,this.unit);console.log(e);const i={id:Date.now(),createdAt:t,duration:e,title:this.title,description:this.description,priority:this.priority,amount:this.amount,unit:this.unit,status:"start"};this.addTask(i),this.resetForm(),this.$router.push("/kanbantasks")},calculateDuration(t,e,i){const s={seconds:1e3,minutes:6e4,hours:36e5,days:864e5,months:2592e6,years:31536e6};return e*s[i]},resetForm(){this.title="",this.description="",this.amount=1,this.unit="days",this.priority="medium",this.errors={}}}},L=i(262);const f=(0,L.A)(b,[["render",y],["__scopeId","data-v-38595c70"]]);var g=f,w={name:"TaskForm",components:{AddTask:g}};const x=(0,L.A)(w,[["render",r]]);var T=x}}]);
//# sourceMappingURL=565.1606db0b.js.map