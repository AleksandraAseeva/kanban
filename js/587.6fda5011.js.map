{"version":3,"file":"js/587.6fda5011.js","mappings":"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","sources":["webpack://vue-proj/./src/components/UpdateTask.vue","webpack://vue-proj/./src/components/UpdateTask.vue?4bb5"],"sourcesContent":[" <template>\r\n  <div v-if=\"task\" class=\"edit-task-container\">\r\n    <h2 class=\"form-title\">Редактировать задачу</h2>\r\n    <form @submit.prevent=\"saveTask\" class=\"edit-task-form\">\r\n      <input v-model=\"task.title\" placeholder=\"Заголовок\" />\r\n      <span v-if=\"errors.title\" class=\"error\">{{ errors.title }}</span>\r\n      <input v-model=\"task.description\" placeholder=\"Описание\" />\r\n      <span v-if=\"errors.description\" class=\"error\">{{ errors.description }}</span>\r\n      <div class=\"input-group\">\r\n        <input\r\n          type=\"number\"\r\n          v-model.number=\"task.amount\"\r\n          min=\"1\"\r\n          max=\"30\"\r\n          required\r\n          placeholder=\"Число (1-30)\"\r\n          class=\"form-input\"\r\n        />\r\n        <select v-model=\"task.unit\" required class=\"form-select form-select-days\">\r\n          <option value=\"minutes\">Минуты</option>\r\n          <option value=\"hours\">Часы</option>\r\n          <option value=\"days\">Дни</option>\r\n          <option value=\"months\">Месяцы</option>\r\n          <option value=\"years\">Годы</option>\r\n        </select>\r\n      </div>\r\n      <select v-model=\"task.priority\" required class=\"form-select\">\r\n        <option value=\"low\">Низкий</option>\r\n        <option value=\"medium\">Средний</option>\r\n        <option value=\"high\">Высокий</option>\r\n      </select>\r\n      <button @click=\"saveTask\" class=\"submit-button\">Сохранить</button>\r\n    </form>\r\n  </div>\r\n  <div v-else>\r\n    <p>Задача не найдена.</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\n\r\nexport default {\r\n  computed: {\r\n    // ...mapGetters([\"getTaskById\"]),\r\n    ...mapGetters(\"tasks\", [\"getTaskById\"]),\r\n  },\r\n  data() {\r\n    return {\r\n      task: {\r\n        title: \"\",\r\n        description: \"\",\r\n        priority: \"medium\",\r\n        amount: \"1\",\r\n        unit: \"hours\",\r\n        duration: 0,\r\n        status: \"start\",\r\n      },\r\n      errors: {},\r\n    };\r\n  },\r\n  created() {\r\n    const taskId = this.$route.query.id;\r\n    // Загрузка информации о задаче из Vuex по ID\r\n    // this.task = this.$store.getters.getTaskById(taskId);\r\n    this.task = this.$store.getters[\"tasks/getTaskById\"](taskId); // Используем пространство имен\r\n    if (!this.task) {\r\n      console.error(\"Task not found\");\r\n      this.$router.push(\"/addtask\");\r\n    } else {\r\n      // Установите duration при загрузке задачи\r\n      this.updateDuration();\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(\"tasks\", [\"updateTask\"]), // Используем пространство имен для действия\r\n\r\n    computeDuration(amount, unit) {\r\n      switch (unit) {\r\n        case \"minutes\":\r\n          return amount * 60 * 1000;\r\n        case \"hours\":\r\n          return amount * 60 * 60 * 1000;\r\n        case \"days\":\r\n          return amount * 24 * 60 * 60 * 1000;\r\n        case \"months\":\r\n          return amount * 30 * 24 * 60 * 60 * 1000;\r\n        case \"years\":\r\n          return amount * 365 * 24 * 60 * 60 * 1000;\r\n        default:\r\n          return 0;\r\n      }\r\n    },\r\n    updateDuration() {\r\n      this.task.duration = this.computeDuration(\r\n        this.task.amount,\r\n        this.task.unit\r\n      );\r\n    },\r\n    saveTask() {\r\n      this.errors = {}; \r\n       // Валидация заголовка\r\n      if (this.task.title.length < 5) {\r\n        this.errors.title = \"Минимальная длина заголовка 5 символов.\";\r\n      }\r\n\r\n      // Валидация описания\r\n      if (this.task.description.length < 5) {\r\n        this.errors.description = \"Минимальная длина описания 5 символов.\";\r\n      }\r\n\r\n      // Если есть ошибки, прекращаем выполнение\r\n      if (Object.keys(this.errors).length > 0) {\r\n        return;\r\n      }\r\n      // Обновляем duration перед сохранением\r\n      this.updateDuration();\r\n\r\n      // Диспатч обновления задачи в хранилище Vuex\r\n      // this.$store.dispatch(\"updateTask\", this.task);\r\n      this.updateTask(this.task); // Используем маппинг действия\r\n      this.$router.push(\"/kanbantasks\"); // Вернуться на страницу со списком задач\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');\r\n\r\n.edit-task-container {\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n  background-color: #f9f9f9;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);\r\n  font-family: 'Roboto', sans-serif;\r\n}\r\n\r\n.form-title {\r\n  text-align: center;\r\n  color: #333;\r\n  font-weight: 700;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.edit-task-form {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\nform input,\r\n.form-select {\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  margin-bottom: 15px;\r\n  font-size: 16px;\r\n  transition: border 0.3s;\r\n}\r\n\r\nform input:focus,\r\n.form-select:focus {\r\n  border-color: #007bff;\r\n  outline: none;\r\n}\r\n\r\n.input-group {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.form-select-days {\r\n  flex: 1;\r\n  margin-left: 10px;\r\n}\r\n\r\n.submit-button {\r\n  background-color: #28a745;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 5px;\r\n  padding: 12px;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s, transform 0.2s;\r\n}\r\n\r\n.submit-button:hover {\r\n  background-color: #218838;\r\n  transform: translateY(-2px);\r\n}\r\n</style>","import { render } from \"./UpdateTask.vue?vue&type=template&id=6c515737&scoped=true\"\nimport script from \"./UpdateTask.vue?vue&type=script&lang=js\"\nexport * from \"./UpdateTask.vue?vue&type=script&lang=js\"\n\nimport \"./UpdateTask.vue?vue&type=style&index=0&id=6c515737&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6c515737\"]])\n\nexport default __exports__"],"names":["class","saveTask","task","placeholder","title","errors","description","type","min","max","required","amount","number","unit","value","priority","computed","data","duration","status","created","taskId","this","$route","query","id","$store","getters","updateDuration","console","error","$router","push","methods","computeDuration","length","Object","keys","updateTask","__exports__","render"],"sourceRoot":""}