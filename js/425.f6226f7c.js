"use strict";(self["webpackChunkvue_proj"]=self["webpackChunkvue_proj"]||[]).push([[425],{425:function(t,s,l){l.r(s),l.d(s,{default:function(){return V}});var o=l(641);const e={class:"addtask"};function n(t,s,l,n,i,a){const u=(0,o.g2)("Tasks");return(0,o.uX)(),(0,o.CE)("div",e,[(0,o.bF)(u)])}var i=l(33),a=l(751);const u={class:"startList"},k=["onClick"],r={key:0},d=["onUpdate:modelValue","onChange"],c=["onClick"],L=["onClick"],v={class:"inworkList"},g=["onClick"],h={key:0},p=["onUpdate:modelValue","onChange"],C=["onClick"],m=["onClick"],b={class:"finishList"},f={class:"task-header"},_=["onClick"],w={key:0},y=["onUpdate:modelValue","onChange"],D=["onClick"],T=["onClick"];function W(t,s,l,e,n,W){return(0,o.uX)(),(0,o.CE)(o.FK,null,[s[27]||(s[27]=(0,o.Lk)("h1",null,"Список задач",-1)),(0,o.Lk)("div",{class:(0,i.C4)(["flex-list",[t.isDarkMode?"dark-theme":"light-theme"]])},[(0,o.Lk)("ul",u,[s[8]||(s[8]=(0,o.Lk)("h2",null,"Созданные задачи",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(W.startStatusTasks,(t=>((0,o.uX)(),(0,o.CE)("li",{key:t.id,class:(0,i.C4)({"red-bg":"high"===t.priority,"yellow-bg":"medium"===t.priority,"green-bg":"low"===t.priority})},[(0,o.Lk)("div",null,[s[0]||(s[0]=(0,o.Lk)("strong",null,"Заголовок:",-1)),(0,o.eW)(" "+(0,i.v_)(t.title),1)]),(0,o.Lk)("button",{onClick:s=>W.toggleDetails(t),class:"toggle-button"},(0,i.v_)(t.showDetails?"Скрыть":"Показать еще"),9,k),t.showDetails?((0,o.uX)(),(0,o.CE)("div",r,[(0,o.Lk)("div",null,[s[1]||(s[1]=(0,o.Lk)("strong",null,"Описание:",-1)),(0,o.eW)(" "+(0,i.v_)(t.description),1)]),(0,o.Lk)("div",null,[s[2]||(s[2]=(0,o.Lk)("strong",null,"Приоритет:",-1)),(0,o.eW)(" "+(0,i.v_)(t.priority),1)]),(0,o.Lk)("div",null,[s[3]||(s[3]=(0,o.Lk)("strong",null,"Задача создана:",-1)),(0,o.eW)(" "+(0,i.v_)(W.formatDate(t.createdAt)),1)]),(0,o.Lk)("div",null,[s[4]||(s[4]=(0,o.Lk)("strong",null,"Время выполнения:",-1)),(0,o.eW)(" "+(0,i.v_)(t.amount)+" "+(0,i.v_)(t.unit),1)]),(0,o.Lk)("div",null,[s[5]||(s[5]=(0,o.Lk)("strong",null,"Время прошло:",-1)),(0,o.eW)(" "+(0,i.v_)(W.timeElapsed(t)),1)]),(0,o.Lk)("div",null,[s[7]||(s[7]=(0,o.Lk)("strong",null,"Статус:",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":s=>t.status=s,onChange:s=>W.updateStatus(t)},s[6]||(s[6]=[(0,o.Lk)("option",{value:"start"},"Создана",-1),(0,o.Lk)("option",{value:"inwork"},"В работе",-1),(0,o.Lk)("option",{value:"finish"},"Готова",-1)]),40,d),[[a.u1,t.status]])]),(0,o.Lk)("button",{onClick:s=>W.editTask(t),class:"action-button"}," Редактировать ",8,c),(0,o.Lk)("button",{onClick:s=>W.removeTask(t.id),class:"action-button"}," Удалить ",8,L)])):(0,o.Q3)("",!0)],2)))),128))]),(0,o.Lk)("ul",v,[s[17]||(s[17]=(0,o.Lk)("h2",null,"Задачи в работе",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(W.inworkStatusTasks,(t=>((0,o.uX)(),(0,o.CE)("li",{key:t.id,class:(0,i.C4)({"red-bg":"high"===t.priority,"yellow-bg":"medium"===t.priority,"green-bg":"low"===t.priority})},[(0,o.Lk)("div",null,[s[9]||(s[9]=(0,o.Lk)("strong",null,"Заголовок:",-1)),(0,o.eW)(" "+(0,i.v_)(t.title),1)]),(0,o.Lk)("button",{onClick:s=>W.toggleDetails(t),class:"toggle-button"},(0,i.v_)(t.showDetails?"Скрыть":"Показать еще"),9,g),t.showDetails?((0,o.uX)(),(0,o.CE)("div",h,[(0,o.Lk)("div",null,[s[10]||(s[10]=(0,o.Lk)("strong",null,"Описание:",-1)),(0,o.eW)(" "+(0,i.v_)(t.description),1)]),(0,o.Lk)("div",null,[s[11]||(s[11]=(0,o.Lk)("strong",null,"Приоритет:",-1)),(0,o.eW)(" "+(0,i.v_)(t.priority),1)]),(0,o.Lk)("div",null,[s[12]||(s[12]=(0,o.Lk)("strong",null,"Задача создана:",-1)),(0,o.eW)(" "+(0,i.v_)(W.formatDate(t.createdAt)),1)]),(0,o.Lk)("div",null,[s[13]||(s[13]=(0,o.Lk)("strong",null,"Время выполнения:",-1)),(0,o.eW)(" "+(0,i.v_)(t.amount)+" "+(0,i.v_)(t.unit),1)]),(0,o.Lk)("div",null,[s[14]||(s[14]=(0,o.Lk)("strong",null,"Время прошло:",-1)),(0,o.eW)(" "+(0,i.v_)(W.timeElapsed(t)),1)]),(0,o.Lk)("div",null,[s[16]||(s[16]=(0,o.Lk)("strong",null,"Статус:",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":s=>t.status=s,onChange:s=>W.updateStatus(t)},s[15]||(s[15]=[(0,o.Lk)("option",{value:"start"},"Создана",-1),(0,o.Lk)("option",{value:"inwork"},"В работе",-1),(0,o.Lk)("option",{value:"finish"},"Готова",-1)]),40,p),[[a.u1,t.status]])]),(0,o.Lk)("button",{onClick:s=>W.editTask(t),class:"action-button"}," Редактировать ",8,C),(0,o.Lk)("button",{onClick:s=>W.removeTask(t.id),class:"action-button"}," Удалить ",8,m)])):(0,o.Q3)("",!0)],2)))),128))]),(0,o.Lk)("ul",b,[s[26]||(s[26]=(0,o.Lk)("h2",null,"Готовые задачи",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(W.finishStatusTasks,(t=>((0,o.uX)(),(0,o.CE)("li",{key:t.id,class:(0,i.C4)({"red-bg":"high"===t.priority,"yellow-bg":"medium"===t.priority,"green-bg":"low"===t.priority})},[(0,o.Lk)("div",f,[s[18]||(s[18]=(0,o.Lk)("strong",null,"Заголовок:",-1)),(0,o.eW)(" "+(0,i.v_)(t.title),1)]),(0,o.Lk)("button",{onClick:s=>W.toggleDetails(t),class:"toggle-button"},(0,i.v_)(t.showDetails?"Скрыть":"Показать еще"),9,_),t.showDetails?((0,o.uX)(),(0,o.CE)("div",w,[(0,o.Lk)("div",null,[s[19]||(s[19]=(0,o.Lk)("strong",null,"Описание:",-1)),(0,o.eW)(" "+(0,i.v_)(t.description),1)]),(0,o.Lk)("div",null,[s[20]||(s[20]=(0,o.Lk)("strong",null,"Приоритет:",-1)),(0,o.eW)(" "+(0,i.v_)(t.priority),1)]),(0,o.Lk)("div",null,[s[21]||(s[21]=(0,o.Lk)("strong",null,"Задача создана:",-1)),(0,o.eW)(" "+(0,i.v_)(W.formatDate(t.createdAt)),1)]),(0,o.Lk)("div",null,[s[22]||(s[22]=(0,o.Lk)("strong",null,"Время выполнения:",-1)),(0,o.eW)(" "+(0,i.v_)(t.amount)+" "+(0,i.v_)(t.unit),1)]),(0,o.Lk)("div",null,[s[23]||(s[23]=(0,o.Lk)("strong",null,"Времени прошло:",-1)),(0,o.eW)(" "+(0,i.v_)(W.timeElapsed(t)),1)]),(0,o.Lk)("div",null,[s[25]||(s[25]=(0,o.Lk)("strong",null,"Статус:",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":s=>t.status=s,onChange:s=>W.updateStatus(t)},s[24]||(s[24]=[(0,o.Lk)("option",{value:"start"},"Создана",-1),(0,o.Lk)("option",{value:"inwork"},"В работе",-1),(0,o.Lk)("option",{value:"finish"},"Готова",-1)]),40,y),[[a.u1,t.status]])]),(0,o.Lk)("button",{class:"action-button",onClick:s=>W.editTask(t)}," Редактировать ",8,D),(0,o.Lk)("button",{class:"action-button",onClick:s=>W.removeTask(t.id)}," Удалить ",8,T)])):(0,o.Q3)("",!0)],2)))),128))])],2)],64)}var E=l(278),S={created(){this.$store.dispatch("tasks/loadTasks"),this.tasks.forEach((t=>t.showDetails=!1))},computed:{...(0,E.L8)("tasks",["tasks"]),startStatusTasks(){return this.tasks.filter((t=>"start"===t.status))},inworkStatusTasks(){return this.tasks.filter((t=>"inwork"===t.status))},finishStatusTasks(){return this.tasks.filter((t=>"finish"===t.status))},...(0,E.L8)("tasks",["isLoading"]),...(0,E.L8)(["isDarkMode"])},methods:{formatDate(t){return new Date(t).toLocaleString()},timeElapsed(t){const s=new Date,l=Math.floor((s-new Date(t.createdAt))/1e3);console.log("elapsedTime:",1e3*l);const o=Math.floor(l/86400),e=Math.floor(l%86400/3600),n=Math.floor(l%3600/60),i=l%60;let a="";return console.log("в tasks:",t.duration),console.log("заголовок:",t.title),o>0&&(a+=`${o} дн. `),e>0&&(a+=`${e} ч. `),n>0&&(a+=`${n} мин. `),a+=`${i} сек.`,1e3*l>=t.duration&&(a+=", задача просрочена"),a.trim()},updateStatus(t){this.$store.dispatch("tasks/updateTask",t),console.log("статус:",t.status)},removeTask(t){confirm("Вы уверены, что хотите удалить эту задачу?")&&this.$store.dispatch("tasks/removeTask",t)},editTask(t){this.$router.push({path:"/edittask",query:{id:t.id}}),console.log("заголовок:",t.title)},toggleDetails(t){t.showDetails=!t.showDetails}}},X=l(262);const $=(0,X.A)(S,[["render",W],["__scopeId","data-v-95a79b7e"]]);var A=$,M={name:"KanbanTasks",components:{Tasks:A}};const U=(0,X.A)(M,[["render",n]]);var V=U}}]);
//# sourceMappingURL=425.f6226f7c.js.map